<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invitación con Formulario</title>

  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;500;700&display=swap"
    rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Montserrat", sans-serif;
      background-image: url('https://tinostone.com/wp-content/uploads/2019/03/Marquina_Black-Negro_Marquina.jpg');

      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* =========================== */
    /* INVITACIÓN (ya hecha antes) */
    /* =========================== */

    .card {
      background: #000;
      border: 7px solid #b89063;
      color: #fff;
      width: min(760px, 92vw);
      padding: 40px;
      margin-bottom: 40px;
      font-family: "Playfair Display", serif;
      text-align: center;
    }

    .title {
      font-size: 40px;
      font-weight: 900;
      letter-spacing: 2px;
    }

    .subtitle {
      color: #b89063;
      margin-top: 15px;
      font-family: "Montserrat";
    }

    .festejarlo {
      color: #b89063;
      font-size: clamp(18px, 2.2vw, 26px);
      margin-top: 20px;
      font-family: "Montserrat";
    }

    .number {
      font-size: 150px;
      font-weight: 900;
      line-height: 1;
      margin-left: -25px;
      margin-top: -25px;
    }

    .years {
      font-size: 28px;
      transform: rotate(-20deg);
      display: inline-block;
      margin-left: 132px;
      margin-top: -15px;
    }

    .confirm {
      margin-top: 22px;
      font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      text-align: center;
      color: #b89063;
      font-size: clamp(18px, 2.4vw, 28px);
      font-weight: 400;
    }

    .fecha {
      font-family: "Playfair Display", serif;
      color: #fff;
      margin-top: 10px;
      font-size: clamp(22px, 5.0vw, 25px);
    }

    /* =========================== */
    /* FORMULARIO NUEVO            */
    /* =========================== */

    .form-box {
      background: #f1f0e8;
      width: min(760px, 92vw);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
    }

    input,
    select {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 6px;
      font-size: 16px;
    }

    .row {
      display: flex;
      gap: 20px;
    }

    .row .form-group {
      flex: 1;
    }

    button {
      width: 100%;
      padding: 14px;
      background: #b89063;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 18px;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover {
      background: #a2784e;
    }

    .calendar-btn {
      background: #333;
      margin-top: 15px;
    }

    .calendar-btn:hover {
      background: #111;
    }

    .limit-text {
      margin-top: 20px;
      text-align: center;
      font-size: 16px;
    }

    /* validaciones */
    .error {
      color: red;
      font-size: 14px;
      margin-top: 5px;
    }

    @media (max-width: 337px) {
      .confirm {
        font-size: 17px;
      }

      .calendar-btn {
        font-size: 15px;
      }
    }
  </style>
</head>

<body>

  <!-- ============================= -->
  <!--      INVITACIÓN ORIGINAL     -->
  <!-- ============================= -->

  <div class="card">
    <div class="title">IZAURA</div>
    <div class="subtitle">estará cumpliendo</div>

    <div class="number">50</div>
    <div class="years">Años</div>

    <div class="festejarlo">ven a festejarlo</div>

    <div class="subtitle, fecha">
      sábado 20/12/25 — 12:00 del medio día
    </div>
    <div style="font-size:clamp(14px, 1.8vw, 16px); margin-top:8px;">
      SALÓN Y JARDÍN CASA DEL LLANO
    </div>
    <div class="confirm">↓ Confirma tu Asistencia ↓</div>
  </div>


  <!-- Formulario -->
  <div class="form-box">
    <h2 style="margin-bottom:20px; font-family:'Playfair Display';">Confirmar asistencia</h2>

    <div class="form-group">
      <label for="correo">Correo:</label>
      <input type="email" id="correo" placeholder="correo@ejemplo.com">
      <div id="err-correo" class="error"></div>
    </div>

    <!-- Modificar a Nombre/Familia en label y Value -->
    <div class="form-group">
      <label>Familia:</label>
      <input type="text" id="familia" value="Name" disabled>
    </div>

    <!-- Modificar Cantidad Acorde Familia-->
    <div class="row">
      <div class="form-group">
        <label>Adultos:</label>
        <select id="adultos">
          <option value="">--</option>
          <option>0</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
        </select>
        <div id="err-adult" class="error"></div>
      </div>

      <div class="form-group">
        <label>Niños:</label>
        <select id="ninos">
          <option value="">--</option>
          <option>0</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
        </select>
        <div id="err-ninos" class="error"></div>
      </div>
    </div>

    <!-- Forms Oculato para Enviar los Datos --> 
    <form id="googleForm"
      action="https://docs.google.com/forms/d/e/1FAIpQLSeZOcaFhxacDJ9EYNmGjgQ-e2qe_xnLjIaC8WuaYSFWegs9-A/formResponse"
      method="POST" target="hidden_iframe" style="display:none;">
      <input name="entry.1325154198" id="gCorreo"> <!-- Correo -->
      <input name="entry.2108065960" id="gFamilia"> <!-- Familia -->
      <input name="entry.1673681373" id="gAdultos"> <!-- Adultos -->
      <input name="entry.1423679706" id="gNinos"> <!-- Niños -->
    </form>

    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

    <button onclick="confirmar()">Confirmar asistencia</button>

    <div class="row">


      <button class="calendar-btn" onclick="agregarCalendario()">Agregar a mi calendario</button>
      <button class="calendar-btn" onclick="window.open('https://maps.app.goo.gl/emBz7sdcLyAky93v7', '_blank')"
        type="button">Ubicación del Evento</button>
    </div>

    <div class="limit-text">Tienes hasta el <b>5 de diciembre</b> para confirmar</div>
  </div>

  <script>
    function confirmar() {
      let correo = document.getElementById("correo").value.trim();
      let familia = document.getElementById("familia").value;
      let adultos = document.getElementById("adultos").value;
      let ninos = document.getElementById("ninos").value;

      let ok = true;

      document.getElementById("err-correo").innerHTML = "";
      document.getElementById("err-adult").innerHTML = "";
      document.getElementById("err-ninos").innerHTML = "";

      if (correo === "") {
        document.getElementById("err-correo").innerHTML = "Ingresa tu correo";
        ok = false;
      }

      if (adultos === "") {
        document.getElementById("err-adult").innerHTML = "Selecciona adultos";
        ok = false;
      }

      if (ninos === "") {
        document.getElementById("err-ninos").innerHTML = "Selecciona niños";
        ok = false;
      }

      if (ok) {
        alert("¡Asistencia confirmada!\nCorreo: " + correo + "\nAdultos: " + adultos + "\nNiños: " + ninos);
        
        // Llenar formulario oculto
        document.getElementById("gCorreo").value = correo;
        document.getElementById("gFamilia").value = familia;
        document.getElementById("gAdultos").value = adultos;
        document.getElementById("gNinos").value = ninos;

        // Enviar a Google Forms
        document.getElementById("googleForm").submit();

        // Limpiar el formulario después del envío
        document.getElementById("correo").value = "";
        document.getElementById("adultos").value = "";
        document.getElementById("ninos").value = "";
      }
    }

    function agregarCalendario() {
      window.open('https://calendar.google.com/calendar/render?action=TEMPLATE&text=Cumplea%C3%B1os%20de%20Izaura&dates=20251220T120000/20251220T150000&location=Sal%C3%B3n%20y%20Jard%C3%ADn%20Casa%20del%20Llano&details=Acomp%C3%A1%C3%B1anos%20a%20celebrar', '_blank')
      //alert("Aquí puedes integrar el archivo .ics para agregar al calendario");
    }

    function ubicacionMapa() {
      window.open("https://youtu.be/VaikJqo-pHQ?si=uXosASMOIBDnOtbw", "_blank");
    }
  </script>

</body>

</html>